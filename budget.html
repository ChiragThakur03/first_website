<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Information - Panchayati Raj Kharkhoda</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/basic-info.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-top">
            <a href="index.html" class="logo">
                <img src="logo-placeholder.png" alt="Panchayati Raj Logo" id="logo-img">
            </a>
            <div class="header-text">
                <h1 id="panchayat-title">Loading...</h1>
                <p class="subheading" id="panchayat-subtitle">Panchayati Raj Kharkhoda</p>
            </div>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="panchayats.html">Panchayats</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="info-container">
            <!-- Annual Budget Card -->
            <div class="info-card">
                <h3><i class="fas fa-money-bill-wave"></i> Annual Budget</h3>
                <div id="annual-budget">
                    <h4>Financial Year 2024-25</h4>
                    <ul id="budget-details"></ul>
                    <div id="budget-chart"></div>
                </div>
            </div>

            <!-- Income Sources Card -->
            <div class="info-card">
                <h3><i class="fas fa-hand-holding-usd"></i> Sources of Income</h3>
                <div id="income-sources">
                    <h4>Major Revenue Streams</h4>
                    <ul id="revenue-streams"></ul>
                    <h4>Government Grants</h4>
                    <ul id="govt-grants"></ul>
                </div>
            </div>

            <!-- Expense Breakdown Card -->
            <div class="info-card">
                <h3><i class="fas fa-chart-pie"></i> Expense Breakdown</h3>
                <div id="expense-breakdown">
                    <h4>Major Expenditure Categories</h4>
                    <ul id="expenditure-categories"></ul>
                    <h4>Development Projects</h4>
                    <ul id="development-expenses"></ul>
                </div>
            </div>

            <!-- Financial Reports Card -->
            <div class="info-card">
                <h3><i class="fas fa-file-invoice"></i> Financial Reports</h3>
                <div id="financial-reports">
                    <h4>Quarterly Reports</h4>
                    <ul id="quarterly-reports"></ul>
                    <h4>Annual Audit Status</h4>
                    <p id="audit-status"></p>
                </div>
            </div>
        </div>

        <!-- Image Carousel -->
        <div class="carousel">
            <div id="carousel-content"></div>
            <button class="prev"><i class="fas fa-chevron-left"></i></button>
            <button class="next"><i class="fas fa-chevron-right"></i></button>
        </div>
    </main>

    <script>
        // Function to get URL parameters
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Function to load panchayat data
        function loadPanchayatData() {
            const panchayatId = getUrlParameter('id');
            const panchayatName = decodeURIComponent(getUrlParameter('name') || '');
            
            if (!panchayatId) {
                alert('Panchayat ID not specified');
                return;
            }

            // Update page title and header
            document.title = `${panchayatName} - Budget Information`;
            document.getElementById('panchayat-title').textContent = `${panchayatName} - Budget Information`;
            document.getElementById('panchayat-subtitle').textContent = `Panchayati Raj Kharkhoda`;

            // Update budget details
            const budgetItems = [
                'Total Budget: ₹1,50,00,000',
                'Development Fund: ₹75,00,000',
                'Administrative Expenses: ₹30,00,000',
                'Emergency Fund: ₹15,00,000',
                'Miscellaneous: ₹30,00,000'
            ];
            document.getElementById('budget-details').innerHTML = 
                budgetItems.map(item => `<li>${item}</li>`).join('');

            // Update revenue streams
            const revenueStreams = [
                'Property Tax: ₹40,00,000',
                'Water Charges: ₹20,00,000',
                'Market Fees: ₹15,00,000',
                'License Fees: ₹10,00,000',
                'Other Local Revenue: ₹5,00,000'
            ];
            document.getElementById('revenue-streams').innerHTML = 
                revenueStreams.map(stream => `<li>${stream}</li>`).join('');

            // Update government grants
            const govtGrants = [
                'State Development Grant: ₹30,00,000',
                'Central Scheme Allocation: ₹20,00,000',
                'Special Project Grant: ₹10,00,000'
            ];
            document.getElementById('govt-grants').innerHTML = 
                govtGrants.map(grant => `<li>${grant}</li>`).join('');

            // Update expenditure categories
            const expenditureCategories = [
                'Infrastructure Development: 40%',
                'Education: 20%',
                'Healthcare: 15%',
                'Sanitation: 10%',
                'Administration: 15%'
            ];
            document.getElementById('expenditure-categories').innerHTML = 
                expenditureCategories.map(category => `<li>${category}</li>`).join('');

            // Update development expenses
            const developmentExpenses = [
                'Road Construction: ₹30,00,000',
                'Water Supply: ₹20,00,000',
                'Street Lighting: ₹15,00,000',
                'School Infrastructure: ₹10,00,000'
            ];
            document.getElementById('development-expenses').innerHTML = 
                developmentExpenses.map(expense => `<li>${expense}</li>`).join('');

            // Update quarterly reports
            const quarterlyReports = [
                'Q1 (Apr-Jun 2024): Completed',
                'Q2 (Jul-Sep 2024): Completed',
                'Q3 (Oct-Dec 2024): In Progress',
                'Q4 (Jan-Mar 2025): Pending'
            ];
            document.getElementById('quarterly-reports').innerHTML = 
                quarterlyReports.map(report => `<li>${report}</li>`).join('');

            // Update audit status
            document.getElementById('audit-status').innerHTML = 
                'Last Audit: December 2024<br>Status: Satisfactory<br>Next Audit Due: March 2025';

            // Load carousel images
            const carouselContent = document.getElementById('carousel-content');
            carouselContent.innerHTML = `
                <div class="carousel-item active">
                    <img src="images/panchayats/budget1.jpg" alt="${panchayatName} Budget Image 1">
                </div>
                <div class="carousel-item">
                    <img src="images/panchayats/budget2.jpg" alt="${panchayatName} Budget Image 2">
                </div>
                <div class="carousel-item">
                    <img src="images/panchayats/budget3.jpg" alt="${panchayatName} Budget Image 3">
                </div>
            `;
        }

        // Initialize carousel
        function initCarousel() {
            const carousel = document.querySelector('.carousel');
            const items = carousel.querySelectorAll('.carousel-item');
            const prevBtn = carousel.querySelector('.prev');
            const nextBtn = carousel.querySelector('.next');
            let currentIndex = 0;

            function showSlide(index) {
                items.forEach(item => item.style.display = 'none');
                items[index].style.display = 'block';
            }

            function nextSlide() {
                currentIndex = (currentIndex + 1) % items.length;
                showSlide(currentIndex);
            }

            function prevSlide() {
                currentIndex = (currentIndex - 1 + items.length) % items.length;
                showSlide(currentIndex);
            }

            prevBtn.addEventListener('click', prevSlide);
            nextBtn.addEventListener('click', nextSlide);

            // Auto-advance slides
            setInterval(nextSlide, 5000);

            // Show first slide
            showSlide(currentIndex);
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadPanchayatData();
            initCarousel();
        });
    </script>
</body>
</html>
